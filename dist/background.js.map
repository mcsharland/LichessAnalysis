{"version":3,"file":"background.js","mappings":";;;;;AAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA,qEAAqE,cAAc;AACnF;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,IAAI","sources":["webpack://chess-analysis/./src/background.ts"],"sourcesContent":["\"use strict\";\nconst rule = {\n    conditions: [\n        new chrome.declarativeContent.PageStateMatcher({\n            pageUrl: {\n                hostContains: `chess.com`,\n                pathPrefix: `/game/`,\n            },\n        }),\n    ],\n    actions: [new chrome.declarativeContent.ShowAction()],\n};\nchrome.runtime.onInstalled.addListener(() => {\n    chrome.action.disable();\n    chrome.declarativeContent.onPageChanged.removeRules(undefined, () => {\n        chrome.declarativeContent.onPageChanged.addRules([rule]);\n    });\n});\nchrome.action.onClicked.addListener(async (tab) => {\n    var _a;\n    try {\n        if ((tab === null || tab === void 0 ? void 0 : tab.id) && ((_a = tab === null || tab === void 0 ? void 0 : tab.url) === null || _a === void 0 ? void 0 : _a.includes(`chess.com/game/`))) {\n            const response = await chrome.tabs.sendMessage(tab.id, { type: \"live\" });\n        }\n    }\n    catch (e) {\n        // console.error(\"No response or error:\", e);\n    }\n});\n// This doesn't seem to be supported in my browser,\n// and I am too lazy to test it on another\n// chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\n//   if (tab?.url?.includes(\"chess.com/game\")) {\n//     chrome.action.setTitle({\n//       tabId,\n//       title: \"Click to open analysis\",\n//     });\n//   }\n// });\n"],"names":[],"sourceRoot":""}